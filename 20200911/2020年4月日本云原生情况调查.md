2020年4月日本云原生情况调查
---

本文是基于CloudNative Days Tokyo 2020（CNDT2020）执行委员@cyberblack28的文章[「あなたが聞きたいCloud Native技術に関するアンケート」結果発表！！](https://medium.com/cloudnative-days/qresults-2b1ce2bdb48e) 写作而成。
因为版权问题，没有直接翻译文章，而是加入了一些基于最早一批接触到云原生，并将云原生在日本推广的在日华人程序员的思考。
**希望本文能对希望进入并且开拓日本社区和市场的中国企业有所帮助。**

在2020年4月，基于Cloud Native Day Tokyo 2020的契机，开展了一次题为**您最感兴趣的Cloud Native技术**的调查问卷。调查问卷的主要内容为：
  - 您的职位
  - 您对容器和Cloud Native技术的了解程度如何？
  - 您感兴趣的技术领域
  - 您所在公司是否有导入Kubernetes等技术，以及当前的导入状态。
  - 如果您放弃了kubernetes，在您不介意的情况下，可以告诉一下原因么。
  - 您有利用编排工具么，可以告知编排服务的名称么？
  - 您所使用的kubernetes的管理服务。
  - 请告诉我您在工作中使用的环境?
  - 你现在有遇到什么问题吗？
  - 您期待什么类别的演讲？
  - 您期待什么级别的演讲？
  - 您期待哪些公司演讲？
  - 您期待哪些人来演讲？
  - 你期待听到的演讲内容？

#### 1. 您的职位
![](https://miro.medium.com/max/576/1*htDGFmfIRr1YU3Z4ry8E9g.png)

可以看到，参加CNDT2020的人员还是以公司的程序员和运维人员为主。但是考虑到日本的一些高阶Manager还是喜欢将自己定义为开发人员。所以不能简单的认为只有一线人员关注本次大会。
但是可以看到，市场等方面的人员确实关注度较低。

#### 2. 您对容器和Cloud Native技术的了解程度如何？

![](https://miro.medium.com/max/576/1*5c68FpcxXWuFSymOS5d8qQ.png)

可以看到很多中级和上级的开发人员参加。我觉得可以得到很大的一个信息是，日本对云原生已经有一定了解，是一个可以减少推广和培训成本的市场。所以对于现有云原生的一些产品实际上已经可以逐步投入到日本市场，并且做进一步市场前瞻。

#### 3. 您感兴趣的技术领域
![](https://miro.medium.com/max/576/1*DzY8VCqEF_JRxsPlTKaiCg.png)

这个部分可以说是雨露均沾。日本的开发人员可以说主要的关注领域在以下方面、
  - CICD
  - 微服务
  - 监控
  - Kubernetes的自定义开发(Operator?)
  - Service Mesh
  - 基于云原生的软件开发
  - 安全(7.6%，日本用户很重视安全)
  - serverless
  - 容器运行时
  
但是还是有相当一部分日本用户表示对**机器学习**和**边缘计算**方面感兴趣。

#### 4. 您所在公司是否有导入Kubernetes等技术，以及当前的导入状态。
![](https://miro.medium.com/max/576/1*RFWiTTJGUsfX5i7ZgfgHvw.png)

可以看到有70%的日本用户已经导入k8s，其中37.8%的用户已经在生产环境使用。**机会巨大**，各位有想法的厂商请加油。

#### 5. 如果您放弃了kubernetes，在您不介意的情况下，可以告诉一下原因么。
日本用户的回答我觉得也很中肯
  - 我们能不能运维kubernetes 
  - 为了上kubernetes而上kubernetes，从而让程序的开发变得分崩离析，没有必要
  
#### 6. 您有利用编排工具么，可以告知编排服务的名称么
![](https://miro.medium.com/max/576/1*TQyclM3lCYDxJnEWqalRsw.png)
直接上答案
  - Kubernetes 61.8%
  - Amazon ECS 17.7%
  - Docker Swarm 2.7%
  - 其他 5.8%
  - 没有使用 11.9%
  
由此可见日本在2020年终于迎来了云原生时代的改变，很多企业开始使用云原生技术改变公司的技术栈。**加油日本**。

#### 7. 您所使用的kubernetes的管理服务
![](https://miro.medium.com/max/576/1*lV9kptni9UPaRidVUa44tQ.png)

由此可见自己运维Kubernetes的日本公司还是蛮多的(40.2%)，这以外Google K8s > Amazon EKS > Azure AKS。

#### 8. 请告诉我您在工作中使用的环境
![](https://miro.medium.com/max/576/1*lN0LEUk4fnHfM9VMShDj5g.png)

日本的商用场景探讨，主要是这样的排序
AWS(33.3%) > 私有环境(23.2%) > GCP(17.6.3%) > Azure(12.2%)

#### 9. 你现在有遇到什么问题吗？
![](https://miro.medium.com/max/576/1*cdlHnmuNgrt57kFVdHYxWw.png)

感觉日本用户其实还是很不适应云原生，导入的时候，还是有很多问题。这个其实跟中国用户刚刚导入云原生技术是一样的。

但是日本用户的苦恼点还是很有意思的，关于上面统计图的信息大家可以参考以下方面
  - 因为工具太多，不知道选择哪个工具(20.2%)
  - 容器安全方面比较担忧(19.6%)
  - 关注监控方面问题(19.1%)
  - 如何设计CICD的构架(15.5%)
  - 如何学习Kubernetes(11.1%)

此外，还有很多用户列出了一些具体的问题
  - 既然有很多解决方案，那么哪种组合实际上是有效的？不确定引入方法的统一性。
  - 使用YAML很麻烦。Helm，eksctl，还有用于运行AWS服务的Annotation和Chart的都很不一致。每个设定项目都需要去学习和设定，真的非常辛苦。
  - 关于升级k8s集群
  - k8s和k8s的存储的周边
  - kubernetes / Ceph / Rook的源代码太大，没法一一确认
  - 我不知道如何为kubernetes做贡献
  - 公司中没有Cloud Native工程师。
  - 如何在日本加快应用程序现代化
  - 将现存的旧系统的应用程序迁移到容器的案例研究。
  - 想通过SIer推广Cloud Native的话，需要如何改变文化和组织？
  - Operator的运用范围和哲学理念。什么场景下应该使用Operator？使用Operator的场景有什么区别？Ansible和Operator之间有什么区别？SIer的盐化文化(编者按：这里特指日式的长时间不升级系统，新三年旧三年缝缝补补又三年)是否有可能运用Operator？
  - 我想使用容器，但是我感觉不需要Kubernetes **(编者按：同学，你想的有点多，感觉有点膨胀)**
  - 我想尝试，但是我没有时间 **(编者按：我跟您情况一样)**
  - 多集群操作，Kubernetes 版本升级，分布式数据库 **(编者按：TiDB值得信赖)**
  - 我不知道我应该了解学习什么 **(编者按：日本同学也很意识流)**
  - 环境维护与运维
  - 裸机存储选择
  - 如何向其他开发人员和高层解释**(编者按：跟老板说省人省钱，跟同事说学了涨薪水好跳槽)**
  - 如何教育工程师... **(编者按：不断打鸡血，告诉他们用了都说好，诱导工程师先上贼船，接下来你可以把工作放一放，先练习一下自由搏击，如果没练上段位，那么接下来可以考虑离职)**
  - 如何在应用程序开发人员中普及Cloud Native
  - 当前的开发规模并不大，有必要使用Kubernetes么 **(编者按：如果是公有云，不考虑运维成本，也非常推荐上kubernetes)**
  - 微服务监控
  - 与软件工程师的合作没有进展 **(编者按：请安装微信，关注一个叫做伪构架师的公众号，分分钟教贵司程序员做人。个人认为SRE和Developer的一些矛盾不可调和)**
  - 我想知道每种需求的设计最佳实践
  - 我不知道如何容器化有状态的应用程序
  - 想了解存储，凭证管理，升级跟踪
  - 我想要一个可以轻松体验微服务构建的演示应用程序
  - 我在一家保守的公司工作，所以我很难让每个人都想得到“支持”。 **(编者按：这个时候你要做的不是改变公司，而是换家公司)**
  - 我想提高对容器的认识，并从下至上渗透组织，但我没有足够的人力。 **(编者按：想多了，利益结构 决定 权力结构 决定 组织结构 决定 技术结构，你不是没有足够的人力，你是没有足够的权力)**
  - 根据应用程序类型估算资源，并减少基于状态的应用程序的停机时间 **(编者按：通过部署的结构和流量切换还是很容易做到的)**
  - 不能很好的把握成本。尽管我发现微服务很有吸引力，但我担心在业务启动期间它会花费过高。 **(编者按：这方面经验还是很重要的，现在边缘产品试错实际上是很好的一个选择)**
  - 使用微服务架构有很多优势，但是它也变成了一个复杂的架构，因此我想知道如何解决，理解它并提供服务。 **(编者按：您说的很对！微服务不适合所有业务，应该先理解微服务的本质，再思考自己的业务能否解耦，是否需要解耦，解耦的部分是否会被别的服务访问和服用)**

#### 10. 您期待什么类别的演讲？
![](https://miro.medium.com/max/576/1*Bk9-JCAPRlDtukLBBrshzw.png)

这块可以看到，日本企业是谨言慎行，往往做决策之前，要参考很多案例，比起成功案例，他们甚至更关注失败案例，所以中国企业在为用户提供服务的时候，也要考虑到企业的自身情况，不给用户提供不适合的产品。这样可以有效的赢得用户的信赖。跟日本客户做生意，一定要注意**宁可不做生意，也不做失败的生意。帮助用户的成功同时也是vendor的职责。**
  - 最新技术动向(23.1%)
  - 技术解说(20.9%)
  - 失败案例(20.0%)
  - 企业导入的案例(18.0%)
  - 组织，文化和团队建设经验(13.6%)
  - 如何做代码贡献(4.4%)

这以外还有一些其他的想听到的内容
  - 设计CI / CD的经验
  - 开发流程（职责划分），容器调度工具与PaaS之间的设计（架构研究）
  - 工程师的进化之路经验谈
  - 培训和实机操作
  - 如何获得资格
  - 如何轻松创建和验证手头的环境
  - 谈论为什么我们决定引入容器，而不是仅仅被趋势所迷惑
  - 我的印象是，与海外相比，日本公司在迁移到云计算方面落后。我认为关于Kubernetes可以说同样的话，但是我想知道如何引入Kubernetes。无法导入Kubernetes的公司如何才能更接近Cloud Native？
  - 操作应用程序的部分以外，还针对操作运用中所需的部分提供最佳实践和方法。监视，日志聚合，云合作，部署，生产以外的环境操作模式等。另外，由于已经讨论了很多Web应用程序，所以我认为听到用于其他用途的案例（批处理作业，MLOps等）会很有趣。

#### 11. 您期待什么级别的演讲？
![](https://miro.medium.com/max/576/1*rcsgDqjCklm9WIHsE05Sbg.png)

这里没有什么悬念，还是以中级的演讲，能有收获的演讲为主。除了对系统的介绍，deep dive的需求开始增加。

#### 12. 您期待哪些公司演讲？
![](https://miro.medium.com/max/576/1*5dcDJWAlM74OzOSMe3AR1A.png)

这也太分散了，但是出乎意料，好像Mercari的呼声比Google都高，Mercari是日本的一家电商平台，类似于国内阿里旗下的闲鱼。对云原生的探索很多。

#### 13. 您期待哪些人来演讲？
![](https://miro.medium.com/max/576/1*sZpNaB32avK-enjwb3nL9w.png)

过分，为啥没我(哈哈哈)。下面是除了个人，还有一些其他的期待，感觉始终脱离不了日本的业务委托企业的话题，SIer公司也在积极转型，开始做Cloud Native的人才培养，但是这无异于饮鸠止渴。
  - 与CNCF成员讨论
  - 企业级产品开发的公司
  - 开始致力于Cloud Native的SIer企业。也对海外的公司演讲感兴趣
  - 从DeNA等本地环境迁移到云的公司
  - 国内历史悠久的业务委托公司公司
  - 在生产环境中运行k8的贡献者和公司
  - 我认为如果该行业中的少数群体（例如女性）能够登上创造多元化社会的舞台，那就太好了！
  - SIer和企业公司的案例研究，LINE和Rakuten等大型公司的案例研究，来自kubernetes org和sig的人员的贡献者会议等。
